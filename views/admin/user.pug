extends ../layouts/main-layout.pug

block content
  main
    section.container.text-center
      h1.my-3.my-md-4 #{pageTitle}
      p= user.email
      hr
      .row
        .col-md-4.ml-md-auto
          p.d-flex.justify-content-between 
        .col-md-4.ml-md-auto
          if (errorMessage)
            p= errorMessage
          p.d-flex.justify-content-between
            //- span Email
            //- strong= user.email
            a(data-toggle='collapse', href='#collapse1', role='button', aria-expanded='false', aria-controls='collapse1') Password Change
          #collapse1.collapse
            form(action="/updatepassword", method="POST")
              label Insert a new password
              input#password(type='password',
                name='password',
                class=(validationErrors.find(e => e.param === 'password') ? 'invalid' : ''),
                value=(oldInput.password)
                ).form-control
              label Confirm a new password
              input#confirmPassword(type='password',
                name='confirmPassword',
                class=(validationErrors.find(e => e.param === 'confirmPassword') ? 'invalid' : ''),
                value=(oldInput.confirmPassword)
                ).form-control
              input(type='hidden', name='_csrf', value=(csrfToken))
              input(type='hidden', name='userId', value=(user.id))
              button(type="submit").btn.btn-primary.mt-3 Confirm new Password
          
          //- p.d-flex.justify-content-between
            a(data-toggle='collapse', href='#collapse2', role='button', aria-expanded='false', aria-controls='collapse2') Email Change
          //- #collapse2.collapse
            form(action="/updateemail", method="POST")
              label Insert a new email
              input(type="email", name="newEmail").form-control
              label Confirm a new Email
              input(type="email", name="confirmEmail").form-control
              input(type='hidden', name='_csrf', value=(csrfToken))
              input(type='hidden', name='userId', value=(user.id))
              button(type="submit").btn.btn-primary.mt-3 Confirm new Email      


